<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog 
	xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
  xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog-ext
   http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd 
   http://www.liquibase.org/xml/ns/dbchangelog 
   http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd">
   
<changeSet author="dev_dyd (generated)" id="1560951867032-1">
        <createTable tableName="aduser">
            <column name="id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="email" type="VARCHAR(255)"/>
            <column name="name" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1560951867032-2">
        <createTable tableName="agency">
            <column name="id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="acronym_en" type="VARCHAR(255)"/>
            <column name="acronym_fr" type="VARCHAR(255)"/>
            <column name="name_en" type="VARCHAR(255)"/>
            <column name="name_fr" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1560951867032-3">
        <createTable tableName="award_dataset">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="application_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="application_identifier" type="VARCHAR(255)"/>
            <column name="awarded_amount" type="VARCHAR(255)"/>
            <column name="competition_year" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="create_date" type="VARCHAR(255)"/>
            <column name="dataset_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="family_name" type="VARCHAR(255)"/>
            <column name="funding_year" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="given_name" type="VARCHAR(255)"/>
            <column name="person_identifier" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="program_en" type="VARCHAR(255)"/>
            <column name="program_fr" type="VARCHAR(255)"/>
            <column name="program_id" type="VARCHAR(255)"/>
            <column name="role_code" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="role_en" type="VARCHAR(255)"/>
            <column name="role_fr" type="VARCHAR(255)"/>
            <column name="source" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1560951867032-4">
        <createTable tableName="core_function">
            <column name="id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="acronym" type="VARCHAR(255)"/>
            <column name="granting_function" type="VARCHAR(255)"/>
            <column name="name_en" type="VARCHAR(255)"/>
            <column name="name_fr" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1560951867032-5">
        <createTable tableName="core_function_system_map">
            <column name="id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="name_en" type="VARCHAR(255)"/>
            <column name="name_fr" type="VARCHAR(255)"/>
            <column name="core_function_id" type="BIGINT"/>
            <column name="granting_system_id" type="BIGINT"/>
            <column name="program_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1560951867032-6">
        <createTable tableName="funding_cycle">
            <column name="id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="ext_id" type="VARCHAR(255)"/>
            <column name="name_en" type="VARCHAR(255)"/>
            <column name="name_fr" type="VARCHAR(255)"/>
            <column name="program_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1560951867032-7">
        <createTable tableName="granting_system">
            <column name="id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="acronym" type="VARCHAR(255)"/>
            <column name="name_en" type="VARCHAR(255)"/>
            <column name="name_fr" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1560951867032-9">
        <createTable tableName="lead_contributor">
            <column name="id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="email" type="VARCHAR(255)"/>
            <column name="name" type="VARCHAR(255)"/>
            <column name="aduser_id" type="BIGINT"/>
            <column name="program_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1560951867032-10">
        <createTable tableName="master_dataset">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="addr_four" type="VARCHAR(255)"/>
            <column name="addr_one" type="VARCHAR(255)"/>
            <column name="addr_three" type="VARCHAR(255)"/>
            <column name="addr_two" type="VARCHAR(255)"/>
            <column name="appl_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="application_identifier" type="VARCHAR(255)"/>
            <column name="city" type="VARCHAR(255)"/>
            <column name="competition_year" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="country" type="VARCHAR(255)"/>
            <column name="create_date" type="VARCHAR(255)"/>
            <column name="dataset_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="family_name" type="VARCHAR(255)"/>
            <column name="given_name" type="VARCHAR(255)"/>
            <column name="org_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="org_name_en" type="VARCHAR(255)"/>
            <column name="org_name_fr" type="VARCHAR(255)"/>
            <column name="person_identifier" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="postal_zip_code" type="VARCHAR(255)"/>
            <column name="program_en" type="VARCHAR(255)"/>
            <column name="program_fr" type="VARCHAR(255)"/>
            <column name="program_id" type="VARCHAR(255)"/>
            <column name="role_code" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="role_en" type="VARCHAR(255)"/>
            <column name="role_fr" type="VARCHAR(255)"/>
            <column name="source" type="VARCHAR(255)"/>
            <column name="state_prov_code" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1560951867032-11">
        <createTable tableName="orgs_with_external_link_num">
            <column name="id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="create_date_time" type="datetime(6)"/>
            <column name="link_num" type="BIGINT"/>
            <column name="name_en" type="VARCHAR(255)"/>
            <column name="name_fr" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1560951867032-12">
        <createTable tableName="program">
            <column name="id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="apply_method" type="VARCHAR(255)"/>
            <column name="award_management_system" type="VARCHAR(255)"/>
            <column name="division" type="VARCHAR(255)"/>
            <column name="frequency" type="VARCHAR(255)"/>
            <column name="funding_type" type="VARCHAR(255)"/>
            <column name="name_en" type="VARCHAR(255)"/>
            <column name="name_fr" type="VARCHAR(255)"/>
            <column name="program_lead_name" type="VARCHAR(255)"/>
            <column name="lead_agency_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1560951867032-13">
        <createTable tableName="system_program">
            <column name="id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="ext_id" type="VARCHAR(255)"/>
            <column name="name_en" type="VARCHAR(255)"/>
            <column name="name_fr" type="VARCHAR(255)"/>
            <column name="granting_system_id" type="BIGINT"/>
            <column name="linked_program_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1560951867032-14">
        <createTable tableName="user">
            <column name="id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="email" type="VARCHAR(255)"/>
            <column name="name" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1560951867032-15">
        <addPrimaryKey columnNames="id" constraintName="PRIMARY" tableName="aduser"/>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1560951867032-16">
        <addPrimaryKey columnNames="id" constraintName="PRIMARY" tableName="agency"/>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1560951867032-17">
        <addPrimaryKey columnNames="id" constraintName="PRIMARY" tableName="core_function"/>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1560951867032-18">
        <addPrimaryKey columnNames="id" constraintName="PRIMARY" tableName="core_function_system_map"/>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1560951867032-19">
        <addPrimaryKey columnNames="id" constraintName="PRIMARY" tableName="funding_cycle"/>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1560951867032-20">
        <addPrimaryKey columnNames="id" constraintName="PRIMARY" tableName="granting_system"/>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1560951867032-21">
        <addPrimaryKey columnNames="id" constraintName="PRIMARY" tableName="lead_contributor"/>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1560951867032-22">
        <addPrimaryKey columnNames="id" constraintName="PRIMARY" tableName="orgs_with_external_link_num"/>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1560951867032-23">
        <addPrimaryKey columnNames="id" constraintName="PRIMARY" tableName="program"/>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1560951867032-24">
        <addPrimaryKey columnNames="id" constraintName="PRIMARY" tableName="system_program"/>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1560951867032-25">
        <addPrimaryKey columnNames="id" constraintName="PRIMARY" tableName="user"/>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1560951867032-26">
        <createIndex indexName="FK4wpm5t3c8pff5cttcbrso8u5f" tableName="lead_contributor">
            <column name="aduser_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1560951867032-27">
        <createIndex indexName="FK5wj7dxmku8639sjg252erymb2" tableName="lead_contributor">
            <column name="program_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1560951867032-28">
        <createIndex indexName="FK78udy17y29fnk9dhhd0ngekmj" tableName="system_program">
            <column name="granting_system_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1560951867032-29">
        <createIndex indexName="FK7omxtqso7ypmg8d27gs306aag" tableName="core_function_system_map">
            <column name="granting_system_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1560951867032-30">
        <createIndex indexName="FK9bosl074v5mlqel07m46i7dt" tableName="core_function_system_map">
            <column name="program_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1560951867032-31">
        <createIndex indexName="FKbvk80y8m6w86hg7mbkx1lcp2t" tableName="funding_cycle">
            <column name="program_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1560951867032-32">
        <createIndex indexName="FKeburs9dj987e27y5qolb2mm45" tableName="system_program">
            <column name="linked_program_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1560951867032-33">
        <createIndex indexName="FKk0q5y15rc68voe0he4bimmldg" tableName="program">
            <column name="lead_agency_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1560951867032-34">
        <createIndex indexName="FKn99g3llljq5hmao5ywfd021vg" tableName="core_function_system_map">
            <column name="core_function_id"/>
        </createIndex>
    </changeSet>
</databaseChangeLog>
   