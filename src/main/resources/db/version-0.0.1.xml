<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog 
	xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
  xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog-ext
   http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd 
   http://www.liquibase.org/xml/ns/dbchangelog 
   http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd">
   
	<changeSet author="dev_dyd (generated)" id="1561406614448-1">
        <createTable tableName="aduser">
            <column name="id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="email" type="VARCHAR(255)"/>
            <column name="name" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1561406614448-2">
        <createTable tableName="agency">
			<column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="acronym_en" type="VARCHAR(255)"/>
            <column name="acronym_fr" type="VARCHAR(255)"/>
            <column name="name_en" type="VARCHAR(255)"/>
            <column name="name_fr" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1561406614448-4">
        <createTable tableName="core_function">
			<column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="acronym" type="VARCHAR(255)"/>
            <column name="granting_function" type="VARCHAR(255)"/>
            <column name="name_en" type="VARCHAR(255)"/>
            <column name="name_fr" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1561406614448-5">
        <createTable tableName="core_function_system_map">
			<column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="name_en" type="VARCHAR(255)"/>
            <column name="name_fr" type="VARCHAR(255)"/>
            <column name="core_function_id" type="BIGINT"/>
            <column name="funding_opportunity_id" type="BIGINT"/>
            <column name="granting_system_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1561406614448-6">
        <createTable tableName="funding_cycle">
			<column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="ext_id" type="VARCHAR(255)"/>
            <column name="name_en" type="VARCHAR(255)"/>
            <column name="name_fr" type="VARCHAR(255)"/>
            <column name="funding_opportunity_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1561406614448-7">
        <createTable tableName="funding_opportunity">
			<column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="apply_method" type="VARCHAR(255)"/>
            <column name="award_management_system" type="VARCHAR(255)"/>
            <column name="division" type="VARCHAR(255)"/>
            <column name="frequency" type="VARCHAR(255)"/>
            <column name="funding_type" type="VARCHAR(255)"/>
            <column name="name_en" type="VARCHAR(255)"/>
            <column name="name_fr" type="VARCHAR(255)"/>
            <column name="program_lead_name" type="VARCHAR(255)"/>
            <column name="lead_agency_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1561406614448-8">
        <createTable tableName="funding_opportunity_participating_agencies">
            <column name="funding_opportunity_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="participating_agencies_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1561406614448-9">
        <createTable tableName="granting_system">
			<column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="acronym" type="VARCHAR(255)"/>
            <column name="name_en" type="VARCHAR(255)"/>
            <column name="name_fr" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1561406614448-11">
        <createTable tableName="lead_contributor">
			<column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="email" type="VARCHAR(255)"/>
            <column name="name" type="VARCHAR(255)"/>
            <column name="aduser_id" type="BIGINT"/>
            <column name="funding_opportunity_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1561406614448-14">
        <createTable tableName="system_funding_opportunity">
			<column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="ext_id" type="VARCHAR(255)"/>
            <column name="name_en" type="VARCHAR(255)"/>
            <column name="name_fr" type="VARCHAR(255)"/>
            <column name="granting_system_id" type="BIGINT"/>
            <column name="linked_funding_opportunity_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1561406614448-15">
        <createTable tableName="user">
			<column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true"/>
            </column>
            <column name="email" type="VARCHAR(255)"/>
            <column name="name" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    
    <changeSet author="dev_dyd (generated)" id="1561406614448-28">
        <createIndex indexName="FK14tr15getkq8fb5kjrrjptvjr" tableName="system_funding_opportunity">
            <column name="linked_funding_opportunity_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1561406614448-29">
        <createIndex indexName="FK4wpm5t3c8pff5cttcbrso8u5f" tableName="lead_contributor">
            <column name="aduser_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1561406614448-30">
        <createIndex indexName="FK528n91tiwm42hbh9296moiphq" tableName="funding_opportunity">
            <column name="lead_agency_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1561406614448-31">
        <createIndex indexName="FK6bwbn2qevrkb0xtgfw7372cy" tableName="funding_cycle">
            <column name="funding_opportunity_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1561406614448-32">
        <createIndex indexName="FK7omxtqso7ypmg8d27gs306aag" tableName="core_function_system_map">
            <column name="granting_system_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1561406614448-33">
        <createIndex indexName="FKbsasob7skpngyxtdeg9j9ierw" tableName="system_funding_opportunity">
            <column name="granting_system_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1561406614448-34">
        <createIndex indexName="FKisws5uvu49wx4kkcgyooit8ud" tableName="core_function_system_map">
            <column name="funding_opportunity_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1561406614448-35">
        <createIndex indexName="FKmnm9gjqoedc34m9wb3nevyqa5" tableName="lead_contributor">
            <column name="funding_opportunity_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1561406614448-36">
        <createIndex indexName="FKn99g3llljq5hmao5ywfd021vg" tableName="core_function_system_map">
            <column name="core_function_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="dev_dyd (generated)" id="1561406614448-37">
        <createIndex indexName="FKuip0ni018fonghd8p7e326g8" tableName="funding_opportunity_participating_agencies">
            <column name="participating_agencies_id"/>
        </createIndex>
    </changeSet>
</databaseChangeLog>
