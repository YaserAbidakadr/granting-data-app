<!DOCTYPE html>
<!--[if lt IE 9]><html class="no-js lt-ie9" lang="en" dir="ltr"><![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en" dir="ltr" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<!--<![endif]-->

<head th:replace="~{fragments/general.html :: common_header(~{::title},~{})}">
<meta charset="utf-8">
<title th:text="#{h.createFo}"></title>
</head>
<body id="createFundingOpportunityPage" class="home" vocab="http://schema.org/" typeof="WebPage">

	<div th:insert="~{fragments/general.html :: header_nav('home')}"></div>

	<main role="main" property="mainContentOfPage" class="container">

		<h1 th:text="#{h.createFo}"></h1>

		<div th:insert="~{fragments/general.html :: profile_info('home')}"></div>

		<div class="panel panel-default">

			<div class="panel-body">

				<div class="web-frmvld">

					<form action="#" th:action="@{createFo}" th:object="${fo}" method="post">

						<input type="hidden" th:field="*{id}" />

						<div class="form-group">
							<label for="nameEn" class="required"><span class="field-name" th:text="#{form.nameEn}"></span><strong class="required"
								th:utext="#{form.required}"></strong></label> <input th:field="*{nameEn}" class="form-control" style="width: 33%;" id="nameEn" type="text"
								required="required" />
							<!-- <div th:if="${#fields.hasErrors('nameEn')}" th:errors="*{nameEn}" th:text="#{err.nameErr}"></div> -->
						</div>


						<div class="form-group">
							<label for="nameFr" class="required"><span class="field-name" th:text="#{form.nameFr}"></span><strong class="required"
								th:utext="#{form.required}"></strong></label> <input th:field="*{nameFr}" class="form-control" style="width: 33%;" id="nameFr" type="text"
								required="required" />
							<!-- <div th:if="${#fields.hasErrors('nameFr')}" th:errors="*{nameFr}" th:text="#{err.nameErr}"></div> -->
						</div>

						<div class="form-group">
							<label for="bu" class="required"><span class="field-name" th:text="#{form.businessUnit}"></span><strong class="required"
								th:utext="#{form.required}"></strong></label>

							<div>
								<select th:field="*{businessUnit}" class="form-control" id="bu" required="required">
									<option th:each="bu : ${allBusinessUnits}" th:value="${bu.id}" th:text="${bu.getLocalizedAttribute('acronym')}"></option>
								</select>
							</div>

							<!-- <div th:if="${#fields.hasErrors('businessUnit')}" th:errors="*{businessUnit}" th:text="#{err.businessUnit}"></div> -->
						</div>

						<label for="isJointInitiative"><span class="field-name" th:text="#{form.isJI}"></span></label> <input type="checkbox"
							th:field="*{isJointInitiative}" class="form-control" id="isJointInitiative">

						<div class="form-group">
							<label for="partnerOrg"><span class="field-name" th:text="#{form.participatingOrg}"></span></label> <input th:field="*{partnerOrg}"
								class="form-control" style="width: 33%;" id="partnerOrg" type="text" disabled />
						</div>

						<label for="isComplex"><span class="field-name" th:text="#{form.participatingCmplx}"></span></label> <input id="isComplex"
							type="checkbox" th:field="*{isComplex}" class="form-control"> <label for="isEdiRequired"><span class="field-name"
							th:text="#{form.isEDIrequired}"></span></label> <input id="isEdiRequired" type="checkbox" th:field="*{isEdiRequired}" class="form-control">

						<div class="form-group">
							<label for="fundingType" class="required"><span class="field-name" th:text="#{form.fundingType}"></span><strong
								class="required" th:utext="#{form.required}"></strong></label> <input th:field="*{fundingType}" class="form-control" id="fundingType"
								type="text" required="required" />
							<!-- <div th:if="${#fields.hasErrors('fundingType')}" th:errors="*{fundingType}" th:text="#{err.fundingType}"></div> -->
						</div>

						<div class="form-group">
							<label for="frequency" class="required"><span class="field-name" th:text="#{form.frequency}"></span><strong class="required"
								th:utext="#{form.required}"></strong></label> <input th:field="*{frequency}" class="form-control" id="frequency" type="text"
								required="required" />
							<!-- <div th:if="${#fields.hasErrors('frequency')}" th:errors="*{frequency}" th:text="#{err.frequency}"></div> -->
						</div>

						<div class="form-group">
							<label><span class="field-name" th:text="#{msg.stages}"></span></label>
							<div class="checkbox">
								<label for="isNOI"><input id="isNOI" type="checkbox" th:field="*{isNOI}" value="isNOI" th:utext="#{input.noi}"></label>
							</div>
							<div class="checkbox">
								<label for="isLOI"><input id="isLOI" type="checkbox" th:field="*{isLOI}" value="isLOI" th:utext="#{input.loi}"></label>
							</div>
						</div>

						<div class="form-group">
							<br> <input type="submit" class="btn btn-primary" role="button" th:value="#{input.submit}" />
						</div>

					</form>

				</div>

			</div>

			<div th:replace="fragments/general :: returnHome"></div>

		</div>

	</main>

	<footer th:replace="fragments/general :: footer(~{})"> </footer>

	<script type="text/javascript">
			$(document).ready(function(){
				
				  $('#isJointInitiative').click(function(){
				    if($(this).is(":checked")) {
				       $("#partnerOrg").removeAttr("disabled");
				    } else {
				       $("#partnerOrg").attr("disabled" , "disabled");
				       $("#partnerOrg").val("");
				    }
				});
				  
				  $("#isNOI").click(function(){
					  
					  if($(this).is(":checked"))
					       $("#isNOI").set("true");
					    else
					       $("#isNOI").set("false");  
				  });
				  
					  $("#isLOI").click(function(){
						  
						  if($(this).is(":checked"))
						       $("#isLOI").set("true");
						    else
						       $("#isLOI").set("false");  
					  });
					  
				}); 	
	</script>

</body>
</html>